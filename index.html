<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>תכנית כושר מדורגת - 8 שבועות</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.4/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Lucide icons as simple SVG components
        const CheckCircle2 = ({ className, size = 24 }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"/>
                <path d="m9 12 2 2 4-4"/>
            </svg>
        );

        const Circle = ({ className, size = 24 }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
            </svg>
        );

        const Calendar = ({ className, size = 24 }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M8 2v4m8-4v4"/>
                <rect width="18" height="18" x="3" y="4" rx="2"/>
                <path d="M3 10h18"/>
            </svg>
        );

        const Timer = ({ className, size = 24 }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="10" x2="14" y1="2" y2="2"/>
                <line x1="12" x2="15" y1="14" y2="11"/>
                <circle cx="12" cy="14" r="8"/>
            </svg>
        );

        const Target = ({ className, size = 24 }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="12" cy="12" r="10"/>
                <circle cx="12" cy="12" r="6"/>
                <circle cx="12" cy="12" r="2"/>
            </svg>
        );

        const Activity = ({ className, size = 24 }) => (
            <svg className={className} width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="m22 12-4-4-6 6-4-4-4 4"/>
            </svg>
        );

        const FitnessProgramApp = () => {
            const [currentWeek, setCurrentWeek] = useState(1);
            const [completedExercises, setCompletedExercises] = useState(() => {
                const saved = localStorage.getItem('fitness-progress');
                return saved ? JSON.parse(saved) : {};
            });
            const [showTimer, setShowTimer] = useState(false);
            const [timerSeconds, setTimerSeconds] = useState(0);
            const [timerActive, setTimerActive] = useState(false);

            // Save progress to localStorage
            useEffect(() => {
                localStorage.setItem('fitness-progress', JSON.stringify(completedExercises));
            }, [completedExercises]);

            // Timer logic
            useEffect(() => {
                let interval = null;
                if (timerActive && timerSeconds > 0) {
                    interval = setInterval(() => {
                        setTimerSeconds(seconds => seconds - 1);
                    }, 1000);
                } else if (timerSeconds === 0 && timerActive) {
                    setTimerActive(false);
                    alert('זמן התרגיל הסתיים!');
                }
                return () => clearInterval(interval);
            }, [timerActive, timerSeconds]);

            const startTimer = (seconds) => {
                setTimerSeconds(seconds);
                setTimerActive(true);
                setShowTimer(true);
            };

            const formatTime = (seconds) => {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                return `${mins}:${secs.toString().padStart(2, '0')}`;
            };

            const fitnessProgram = {
                1: {
                    title: "שבועות 1-2: רק להתחיל לזוז",
                    walking: "הליכה 10-15 דקות בקצב איטי עד בינוני, 5 ימים בשבוע",
                    stretching: "מתיחות עדינות כל בוקר - 5-10 דקות (צוואר, כתפיים, גב תחתון, רגליים)",
                    exercises: [
                        { name: "שכיבות ריק", reps: "5 חזרות", description: "שכיבות סמיכה על הקיר" },
                        { name: "עמידה על רגל אחת", reps: "10 שניות כל רגל", description: "איזון על רגל אחת" },
                        { name: "ישיבה לעמידה מכיסא", reps: "5 חזרות", description: "קימה וישיבה מכיסא" }
                    ]
                },
                2: {
                    title: "שבועות 3-4: מתחילים להתחזק",
                    walking: "הליכה 20 דקות בקצב קצת מהיר יותר, 5 פעמים בשבוע",
                    stretching: "מתיחות אחרי הליכה - 10 דקות",
                    exercises: [
                        { name: "סקוואטים לכיסא", reps: "8 חזרות", description: "ירידה עד לגובה כיסא" },
                        { name: "שכיבות סמיכה על קיר", reps: "8 חזרות", description: "דחיפות מהקיר" },
                        { name: "הרמות עקב בעמידה", reps: "10 חזרות", description: "עלייה על קצות האצבעות" }
                    ]
                },
                3: {
                    title: "שבועות 5-6: מכניסים תנועה ותיווצרות",
                    walking: "הליכה 25-30 דקות בקצב בינוני, 5 פעמים בשבוע",
                    stretching: "תרגילי 3-4 פעמים בשבוע",
                    exercises: [
                        { name: "תרגילי ליבה בעמידה", reps: "כמו הבאת ברך ליד נגדית", description: "חיזוק שרירי הבטן" },
                        { name: "גשר", reps: "10 חזרות", description: "שכיבה והרמת האגן" },
                        { name: "תרגילי ידיים עם בקבוק מים", reps: "8 חזרות כל יד", description: "הרמת משקלים קלים" }
                    ]
                },
                4: {
                    title: "שבועות 7-8: נכנסים לכושר",
                    walking: "הליכה מהירה 30-35 דקות, כולל עליות קלות, 5-6 פעמים בשבוע",
                    stretching: "תרגילי 4 פעמים בשבוע",
                    exercises: [
                        { name: "שילוב תרגילים קודמים", reps: "מתקדם", description: "שילוב כל התרגילים" },
                        { name: "תוספת דקה קצבית", reps: "ריקוד קל או צעידה במקום", description: "פעילות קרדיו" },
                        { name: "תרגיל עם גומיה קלה", reps: "אם יש", description: "התנגדות נוספת" },
                        { name: "מתיחות מורחבות", reps: "15-20 דקות", description: "מתיחה מקיפה" }
                    ]
                }
            };

            const toggleExercise = (weekNum, exerciseIndex) => {
                const key = `${weekNum}-${exerciseIndex}`;
                setCompletedExercises(prev => ({
                    ...prev,
                    [key]: !prev[key]
                }));
            };

            const currentProgram = fitnessProgram[Math.ceil(currentWeek / 2)] || fitnessProgram[4];
            const weekPairs = [
                { label: "שבוע 1-2", value: 1 },
                { label: "שבוע 3-4", value: 2 },
                { label: "שבוע 5-6", value: 3 },
                { label: "שבוע 7-8", value: 4 }
            ];

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4">
                    <div className="max-w-4xl mx-auto">
                        {/* Header */}
                        <div className="bg-white rounded-xl shadow-lg p-6 mb-6">
                            <div className="flex items-center justify-between mb-4">
                                <h1 className="text-3xl font-bold text-gray-800 flex items-center gap-3">
                                    <Activity className="text-blue-600" />
                                    תכנית כושר מדורגת - 8 שבועות
                                </h1>
                                {showTimer && (
                                    <div className="bg-blue-100 px-4 py-2 rounded-lg">
                                        <div className="flex items-center gap-2">
                                            <Timer className="text-blue-600" size={20} />
                                            <span className="font-mono text-xl text-blue-800">
                                                {formatTime(timerSeconds)}
                                            </span>
                                            <button
                                                onClick={() => setTimerActive(!timerActive)}
                                                className="ml-2 px-3 py-1 bg-blue-600 text-white rounded text-sm hover:bg-blue-700"
                                            >
                                                {timerActive ? 'עצור' : 'המשך'}
                                            </button>
                                        </div>
                                    </div>
                                )}
                            </div>
                            
                            {/* Week selector */}
                            <div className="flex flex-wrap gap-2">
                                {weekPairs.map((week) => (
                                    <button
                                        key={week.value}
                                        onClick={() => setCurrentWeek(week.value)}
                                        className={`px-4 py-2 rounded-lg font-medium transition-colors ${
                                            Math.ceil(currentWeek / 2) === week.value || currentWeek === week.value
                                                ? 'bg-blue-600 text-white'
                                                : 'bg-gray-200 text-gray-700 hover:bg-gray-300'
                                        }`}
                                    >
                                        {week.label}
                                    </button>
                                ))}
                            </div>
                        </div>

                        {/* Main content */}
                        <div className="grid md:grid-cols-2 gap-6">
                            {/* Program details */}
                            <div className="bg-white rounded-xl shadow-lg p-6">
                                <h2 className="text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2">
                                    <Target className="text-green-600" />
                                    {currentProgram.title}
                                </h2>
                                
                                <div className="space-y-4">
                                    <div className="bg-green-50 p-4 rounded-lg">
                                        <h3 className="font-semibold text-green-800 mb-2 flex items-center gap-2">
                                            <Calendar size={20} />
                                            הליכה יומית
                                        </h3>
                                        <p className="text-green-700">{currentProgram.walking}</p>
                                        <button
                                            onClick={() => startTimer(currentWeek <= 2 ? 600 : currentWeek <= 4 ? 1200 : currentWeek <= 6 ? 1800 : 2100)}
                                            className="mt-2 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 transition-colors"
                                        >
                                            התחל טיימר הליכה
                                        </button>
                                    </div>

                                    <div className="bg-blue-50 p-4 rounded-lg">
                                        <h3 className="font-semibold text-blue-800 mb-2">מתיחות</h3>
                                        <p className="text-blue-700">{currentProgram.stretching}</p>
                                        <button
                                            onClick={() => startTimer(currentWeek <= 2 ? 300 : 600)}
                                            className="mt-2 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors"
                                        >
                                            התחל טיימר מתיחות
                                        </button>
                                    </div>
                                </div>
                            </div>

                            {/* Exercises checklist */}
                            <div className="bg-white rounded-xl shadow-lg p-6">
                                <h3 className="text-xl font-bold text-gray-800 mb-4">תרגילי חיזוק</h3>
                                <div className="space-y-3">
                                    {currentProgram.exercises.map((exercise, index) => {
                                        const isCompleted = completedExercises[`${Math.ceil(currentWeek / 2) || 4}-${index}`];
                                        return (
                                            <div
                                                key={index}
                                                className={`p-4 rounded-lg border-2 transition-all cursor-pointer ${
                                                    isCompleted
                                                        ? 'bg-green-50 border-green-300'
                                                        : 'bg-gray-50 border-gray-200 hover:border-gray-300'
                                                }`}
                                                onClick={() => toggleExercise(Math.ceil(currentWeek / 2) || 4, index)}
                                            >
                                                <div className="flex items-start gap-3">
                                                    {isCompleted ? (
                                                        <CheckCircle2 className="text-green-600 mt-1 flex-shrink-0" size={20} />
                                                    ) : (
                                                        <Circle className="text-gray-400 mt-1 flex-shrink-0" size={20} />
                                                    )}
                                                    <div className="flex-1">
                                                        <div className="flex justify-between items-start mb-2">
                                                            <h4 className={`font-medium ${isCompleted ? 'text-green-800' : 'text-gray-800'}`}>
                                                                {exercise.name}
                                                            </h4>
                                                            <span className={`text-sm px-2 py-1 rounded ${
                                                                isCompleted ? 'bg-green-200 text-green-800' : 'bg-blue-200 text-blue-800'
                                                            }`}>
                                                                {exercise.reps}
                                                            </span>
                                                        </div>
                                                        <p className={`text-sm ${isCompleted ? 'text-green-700' : 'text-gray-600'}`}>
                                                            {exercise.description}
                                                        </p>
                                                    </div>
                                                </div>
                                            </div>
                                        );
                                    })}
                                </div>
                            </div>
                        </div>

                        {/* Progress overview */}
                        <div className="mt-6 bg-white rounded-xl shadow-lg p-6">
                            <h3 className="text-xl font-bold text-gray-800 mb-4">התקדמות השבוע</h3>
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                                {weekPairs.map((week) => {
                                    const weekExercises = fitnessProgram[week.value].exercises.length;
                                    const completed = Object.keys(completedExercises).filter(
                                        key => key.startsWith(`${week.value}-`) && completedExercises[key]
                                    ).length;
                                    const percentage = weekExercises > 0 ? (completed / weekExercises) * 100 : 0;
                                    
                                    return (
                                        <div key={week.value} className="text-center">
                                            <div className="text-sm text-gray-600 mb-2">{week.label}</div>
                                            <div className="w-full bg-gray-200 rounded-full h-3 mb-2">
                                                <div
                                                    className="bg-blue-600 h-3 rounded-full transition-all duration-300"
                                                    style={{ width: `${percentage}%` }}
                                                ></div>
                                            </div>
                                            <div className="text-sm font-medium text-gray-800">
                                                {completed}/{weekExercises}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>

                        <div className="mt-6 bg-yellow-50 border border-yellow-200 rounded-xl p-4">
                            <p className="text-yellow-800 text-sm">
                                <strong>חשוב:</strong> התכנית מתקדמת בהדרגה. התחילו לאט והקשיבו לגוף שלכם. 
                                אם אתם מרגישים כאב או אי נוחות, עצרו והתייעצו עם רופא.
                            </p>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<FitnessProgramApp />, document.getElementById('root'));
    </script>
</body>
</html>
